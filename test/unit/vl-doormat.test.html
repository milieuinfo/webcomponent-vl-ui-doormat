<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <script src="../../../@webcomponents/webcomponentsjs/webcomponents-lite.js"></script>
  <script src="../../../web-component-tester/browser.js"></script>

  <script type="module" src="../../src/vl-doormat-all.js"></script>
</head>

<body>
  <test-fixture id="vl-doormat-fixture">
    <template>
      <a is="vl-doormat" href="#">
        <h2 is="vl-doormat-title">Bouwen, wonen en energie</h2>
        <div is="vl-doormat-text">De overheid zet zich in om betaalbaar en kwaliteitsvol wonen voor iedereen beschikbaar te maken. Ze biedt sociale woningen aan, geeft premies aan wie zijn woning verbouwt en energiezuinig maakt en zoekt oplossingen om de stijging van de vastgoedprijzen onder controle te houden.</div>
        <img is="vl-doormat-image" src="https://picsum.photos/200/300?image=1048" alt="Bouwen in Brussel" width="100" height="150"/>
      </a>
    </template>
  </test-fixture>

  <script>
    suite('vl-doormat', () => {
      const should = chai.should();

      test('heeft de vl-doormat class', () => {
        const element = fixture('vl-doormat-fixture');
        assert.isTrue(element.classList.contains('vl-doormat'));
      });

      test('krijgt de juiste class wanneer de doormat een attribuut bevat', () => {
        ['alt', 'graphic'].forEach((attribute) => {
          const element = fixture('vl-doormat-fixture');
          assert.isFalse(element.classList.contains(`vl-doormat--${attribute}`));
          element.setAttribute(attribute, '');
          assert.isTrue(element.classList.contains(`vl-doormat--${attribute}`));
          element.removeAttribute(attribute);
          assert.isFalse(element.classList.contains(`vl-doormat--${attribute}`));
        });
      });

      test('er zal een content element aangemaakt worden met daarin de title en text child elementen', () => {
        const element = fixture('vl-doormat-fixture');
        const content = element.contentElement;
        should.exist(content);
        should.exist(element.titleElement);
        should.exist(element.textElement);
        should.exist(element.imageElement);
        assert.isTrue(content.contains(element.titleElement));
        assert.isTrue(content.contains(element.textElement));
        assert.isTrue(element.contains(element.imageElement));
      });
    });
  </script>
</body>

</html>
